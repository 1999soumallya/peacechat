import { NgFor } from '@angular/common';
import { Component } from '@angular/core';
import { DomSanitizer, SafeHtml } from '@angular/platform-browser';
import { Router, RouterLink } from "@angular/router";

@Component({
  selector: 'app-sidebar',
  imports: [RouterLink, NgFor],
  templateUrl: './sidebar.html',
})
export class Sidebar {
  constructor(private router: Router, private sanitizer: DomSanitizer) { }

  menu: SidebarElement[] = [
    {
      name: 'Users',
      route: '/dashboard/users',
      icon: (
        `<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16" width="16" height="16">
            <path d="M5.334 14.477v-4.571a1.523 1.523 0 0 1 1.523 -1.525h1.523a1.523 1.523 0 0 1 1.525 1.525v4.571M2.286 7.619H0.762L7.619 0.762l6.857 6.857h-1.525v5.333a1.523 1.523 0 0 1 -1.522 1.525H3.809a1.523 1.523 0 0 1 -1.523 -1.525z" stroke="currentColor" stroke-width="1.5238057142857144" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>`
      )
    },
    {
      name: 'Listeners',
      route: '/dashboard/listeners',
      icon: (
        `<svg width="16" height="12.235" viewBox="0 0 16 12.235" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M2.566 11.347c-0.111 -0.046 -0.226 -0.089 -0.242 -0.23 -0.019 -0.152 0.093 -0.627 0.136 -0.798 0.474 -1.917 2.048 -3.513 3.979 -3.962l-0.529 -0.363C4.119 4.494 4.804 1.528 7.068 0.984c2.984 -0.717 4.86 3.034 2.563 5.009l-0.529 0.364c1.936 0.449 3.504 2.04 3.979 3.961 0.042 0.171 0.154 0.647 0.136 0.798 -0.017 0.14 -0.131 0.184 -0.242 0.23zm4.864 -9.939c-0.935 0.104 -1.769 0.888 -1.988 1.792 -0.536 2.237 2.065 3.903 3.841 2.447 1.867 -1.529 0.593 -4.515 -1.853 -4.24Zm5.242 9.425c-0.375 -2.562 -2.821 -4.413 -5.401 -4.142 -2.211 0.232 -4.079 1.932 -4.403 4.141z" fill="currentColor" stroke="currentColor" stroke-width="0.47058823529411764"/>
            <path d="M0.235 4.151v-0.696A4.951 4.951 0 0 1 1.369 0.764c0.136 -0.16 0.667 -0.813 0.84 -0.385 0.095 0.235 -0.218 0.408 -0.355 0.567C0.365 2.68 0.324 4.884 1.823 6.63c0.148 0.171 0.644 0.491 0.286 0.709 -0.206 0.124 -0.425 -0.147 -0.558 -0.285C0.824 6.294 0.337 5.252 0.264 4.199z" fill="currentColor" stroke="currentColor" stroke-width="0.47058823529411764"/>
            <path d="M13.449 0.256c0.186 -0.056 0.324 0.085 0.449 0.204 1.376 1.327 1.774 3.443 1.017 5.192 -0.205 0.475 -0.721 1.277 -1.125 1.597 -0.254 0.202 -0.492 0.148 -0.471 -0.198 0.698 -0.706 1.252 -1.506 1.429 -2.504 0.245 -1.375 -0.177 -2.565 -1.064 -3.605 -0.083 -0.095 -0.334 -0.292 -0.366 -0.391 -0.033 -0.104 0.022 -0.264 0.13 -0.297Z" fill="currentColor" stroke="currentColor" stroke-width="0.47058823529411764"/>
            <path d="M12.421 1.193c0.24 -0.072 0.5 0.259 0.643 0.433 1.065 1.299 1.035 3.071 -0.013 4.369 -0.132 0.163 -0.4 0.529 -0.629 0.416 -0.401 -0.198 0.17 -0.61 0.323 -0.812 0.841 -1.114 0.824 -2.522 -0.03 -3.624 -0.08 -0.102 -0.401 -0.416 -0.424 -0.485 -0.033 -0.104 0.023 -0.265 0.13 -0.297Z" fill="currentColor" stroke="currentColor" stroke-width="0.47058823529411764"/>
            <path d="M2.92 1.193c0.19 -0.057 0.378 0.072 0.336 0.274 -0.018 0.087 -0.374 0.424 -0.461 0.538 -0.788 1.039 -0.833 2.395 -0.09 3.473 0.095 0.137 0.521 0.565 0.544 0.636 0.047 0.147 -0.066 0.317 -0.218 0.325 -0.217 0.011 -0.628 -0.539 -0.749 -0.719a3.407 3.407 0 0 1 0.195 -4.094c0.066 -0.08 0.372 -0.41 0.444 -0.433Z" fill="currentColor" stroke="currentColor" stroke-width="0.47058823529411764"/>
            <path d="M11.392 2.131c0.21 -0.063 0.384 0.147 0.508 0.296a2.165 2.165 0 0 1 0.155 2.544c-0.128 0.201 -0.497 0.742 -0.746 0.436 -0.189 -0.233 0.168 -0.449 0.298 -0.641 0.421 -0.617 0.397 -1.352 -0.031 -1.955 -0.068 -0.095 -0.306 -0.331 -0.322 -0.406 -0.02 -0.097 0.04 -0.245 0.137 -0.273Z" fill="currentColor" stroke="currentColor" stroke-width="0.47058823529411764"/>
            <path d="M3.948 2.131c0.179 -0.054 0.361 0.056 0.342 0.248 -0.009 0.094 -0.251 0.324 -0.328 0.431 -0.397 0.561 -0.452 1.218 -0.112 1.825 0.081 0.142 0.419 0.489 0.435 0.566 0.054 0.26 -0.228 0.379 -0.45 0.205 -0.678 -0.535 -0.841 -1.689 -0.519 -2.456 0.075 -0.179 0.46 -0.768 0.632 -0.819Z" fill="currentColor" stroke="currentColor" stroke-width="0.47058823529411764"/>
            <path d="M8.852 2.435a0.619 0.619 0 0 1 0.648 0.859c-0.047 0.114 -0.298 0.371 -0.398 0.48 -0.24 0.259 -1.099 1.177 -1.346 1.315a0.612 0.612 0 0 1 -0.638 0c-0.125 -0.07 -0.922 -0.86 -1.007 -0.988a0.622 0.622 0 0 1 0.887 -0.856c0.08 0.056 0.392 0.43 0.45 0.421l1.124 -1.116a0.659 0.659 0 0 1 0.28 -0.113zm0.059 0.48c-0.12 0.017 -0.298 0.287 -0.384 0.375 -0.135 0.137 -0.905 0.939 -0.998 0.969 -0.108 0.034 -0.184 -0.007 -0.272 -0.066 -0.139 -0.093 -0.499 -0.552 -0.599 -0.582 -0.105 -0.031 -0.208 0.038 -0.179 0.147 0.047 0.167 0.753 0.713 0.88 0.908l0.116 0.024 1.548 -1.54 0.043 -0.128c-0.035 -0.057 -0.083 -0.119 -0.155 -0.108" fill="currentColor" />
        </svg>`
      )
    },
    {
      name: 'Listings',
      route: '/dashboard/listings',
      icon: (
        `<svg width="12" height="16.286" viewBox="0 0 12 16.286" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M8.923 0c0.429 0.12 0.672 0.477 0.615 0.923 0.516 0.009 1.005 -0.063 1.488 0.159 0.531 0.242 0.869 0.754 0.974 1.318v11.723c-0.057 0.064 -0.024 0.17 -0.039 0.254 -0.129 0.727 -0.731 1.241 -1.438 1.377H1.477A1.774 1.774 0 0 1 0 14.277V2.553c0.063 -0.758 0.558 -1.413 1.323 -1.585 0.373 -0.083 0.759 -0.033 1.14 -0.045 -0.035 -0.446 0.198 -0.782 0.614 -0.923zm-0.307 0.923H3.385v0.923h5.231zm-6.154 0.922c-0.377 0.034 -0.827 -0.093 -1.16 0.117 -0.244 0.154 -0.351 0.388 -0.379 0.669 0.026 3.892 -0.051 7.797 0.039 11.683 0.105 0.293 0.368 0.497 0.682 0.518l8.841 -0.022c0.381 -0.129 0.561 -0.399 0.591 -0.794 -0.028 -3.883 0.051 -7.779 -0.04 -11.654 -0.243 -0.669 -0.935 -0.5 -1.5 -0.517 0.06 0.45 -0.206 0.854 -0.664 0.92l-5.721 0.003c-0.457 -0.069 -0.729 -0.468 -0.692 -0.923" fill="currentColor"/>
          <path d="M5.826 12.174c-0.271 -0.271 -0.093 -0.744 0.281 -0.79l3.414 0.003c0.53 0.099 0.513 0.859 -0.028 0.921h-3.386a0.634 0.634 0 0 1 -0.281 -0.134" fill="currentColor"/>
          <path d="M5.826 6.021c-0.271 -0.272 -0.093 -0.745 0.281 -0.79l3.382 0.003a0.463 0.463 0 0 1 -0.027 0.92c-1.047 0.112 -2.288 -0.084 -3.355 0.001a0.634 0.634 0 0 1 -0.281 -0.134" fill="currentColor"/>
          <path d="M5.826 9.098c-0.271 -0.272 -0.093 -0.745 0.281 -0.79l3.382 0.003a0.463 0.463 0 0 1 -0.027 0.92c-1.047 0.112 -2.288 -0.084 -3.355 0.001a0.634 0.634 0 0 1 -0.281 -0.134" fill="currentColor"/>
          <path d="M4.513 7.611c0.443 -0.003 0.597 0.461 0.319 0.805 -0.207 0.255 -1.176 1.249 -1.419 1.413 -0.155 0.105 -0.309 0.129 -0.48 0.054 -0.12 -0.053 -0.647 -0.566 -0.731 -0.686 -0.34 -0.485 0.175 -0.999 0.657 -0.657 0.063 0.045 0.24 0.266 0.291 0.257L4.337 7.645c0.055 -0.009 0.121 -0.034 0.175 -0.034" fill="currentColor"/>
          <path d="M4.513 10.689c0.443 -0.004 0.597 0.461 0.319 0.804 -0.207 0.256 -1.176 1.25 -1.419 1.413 -0.155 0.105 -0.309 0.129 -0.48 0.053 -0.12 -0.052 -0.647 -0.564 -0.731 -0.684 -0.34 -0.487 0.175 -1 0.657 -0.657 0.063 0.045 0.24 0.266 0.291 0.257L4.337 10.723c0.055 -0.009 0.121 -0.034 0.175 -0.034" fill="currentColor"/>
          <path d="M4.392 4.315c0.428 -0.088 0.735 0.325 0.514 0.699L3.383 6.537a0.471 0.471 0 0 1 -0.52 0c-0.075 -0.049 -0.662 -0.639 -0.705 -0.711 -0.25 -0.428 0.231 -0.907 0.64 -0.64 0.087 0.057 0.255 0.312 0.349 0.288 0.094 -0.024 0.883 -0.917 1.067 -1.059a0.514 0.514 0 0 1 0.177 -0.1" fill="currentColor"/>
        </svg>`
      )
    },
    {
      name: 'Chats/Calls',
      route: '/dashboard/chats-calls',
      icon: (
        `<svg width="16" height="14.118" viewBox="0 0 16 14.118" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M10.357 13.402h-0.677l-0.975 -0.127C4.605 12.525 1.124 9.075 0.371 4.968L0.244 3.992c0.019 -0.214 -0.026 -0.47 0 -0.678 0.077 -0.606 0.659 -1.072 1.248 -1.117 0.473 -0.038 1.39 -0.047 1.855 0 0.26 0.024 0.334 0.147 0.425 0.367 0.351 0.85 0.574 1.835 0.884 2.707 0.012 0.111 -0.047 0.196 -0.096 0.288 -0.087 0.165 -0.73 1.035 -0.715 1.111 0.697 1.314 1.843 2.438 3.159 3.131 0.393 -0.176 0.728 -0.516 1.111 -0.715 0.092 -0.05 0.177 -0.109 0.288 -0.097 0.872 0.311 1.856 0.533 2.705 0.884 0.198 0.081 0.339 0.157 0.367 0.397 0.054 0.432 0.036 1.434 0.001 1.883 -0.051 0.652 -0.496 1.104 -1.118 1.249ZM1.47 3.087c-0.379 0.07 -0.358 0.477 -0.345 0.774 0.16 4.329 4.388 8.526 8.715 8.661 0.329 0.009 0.704 0.019 0.752 -0.399 0.033 -0.292 0.037 -1.124 0.001 -1.413 -0.004 -0.033 0.002 -0.066 -0.031 -0.087l-2.101 -0.691c-0.343 0.135 -1.003 0.779 -1.327 0.821 -0.21 0.027 -0.611 -0.2 -0.807 -0.306 -1.136 -0.621 -2.487 -1.952 -3.12 -3.083 -0.109 -0.195 -0.343 -0.616 -0.316 -0.825 0.041 -0.324 0.686 -0.984 0.821 -1.327l-0.69 -2.103c-0.022 -0.032 -0.056 -0.026 -0.088 -0.03 -0.248 -0.031 -1.231 -0.034 -1.464 0.008Z" fill="currentColor" stroke="currentColor" stroke-width="0.47058823529411764"/>
          <path d="M8.207 6.318c-1.224 -0.186 -2.259 -1.106 -2.552 -2.313C5.197 2.12 6.523 0.336 8.431 0.169c1.297 0.066 2.681 -0.088 3.968 0 2.772 0.191 3.941 3.703 1.764 5.468 -1.094 0.887 -2.229 0.694 -3.55 0.712l-1.638 1.627c-0.276 0.242 -0.654 0.137 -0.758 -0.213l-0.009 -1.447Zm0.885 0.262c0.355 -0.268 0.657 -0.721 1 -0.986 0.064 -0.049 0.133 -0.084 0.205 -0.118 1.301 -0.101 2.668 0.322 3.616 -0.824 1.158 -1.399 0.191 -3.465 -1.571 -3.603 -1.255 0.072 -2.61 -0.091 -3.853 0 -2.567 0.19 -2.728 3.942 -0.256 4.376 0.226 0.04 0.585 -0.002 0.744 0.169 0.016 0.017 0.116 0.194 0.116 0.206v0.778Z" fill="currentColor" stroke="currentColor" stroke-width="0.2823529411764706"/>
          <path d="M8.555 2.823c0.584 -0.12 0.744 0.756 0.193 0.869 -0.584 0.12 -0.744 -0.755 -0.193 -0.869" fill="currentColor" />
          <path d="M10.319 2.823c0.584 -0.12 0.744 0.756 0.193 0.869 -0.584 0.12 -0.744 -0.755 -0.193 -0.869" fill="currentColor" />
          <path d="M12.083 2.823c0.584 -0.12 0.744 0.756 0.193 0.869 -0.584 0.12 -0.744 -0.755 -0.193 -0.869" fill="currentColor" />
        </svg>`
      )
    },
    {
      name: 'KYC',
      route: '/dashboard/kyc',
      icon: (
        `<svg width="14" height="16" viewBox="0 0 14 16" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M0 0L9.03435 0.00741585L12.6477 3.6067V8.65614H11.0578V4.73502H7.91418V1.60887L7.85856 1.55362H1.59033V14.205H6.32386V15.7587H0V0Z" fill="currentColor"/>
          <path d="M2.36682 12.6144C2.39426 11.2306 3.13177 9.86239 4.36391 9.21017C3.4703 7.90164 4.11325 6.06288 5.63016 5.61311C7.7878 4.97349 9.51569 7.35695 8.28392 9.21017C8.43001 9.23798 9.11301 9.74856 9.09484 9.85312L8.03623 10.9084C7.9643 10.9273 7.69733 10.6759 7.60092 10.6155C6.00318 9.61359 3.96419 10.7486 3.95715 12.614H2.36682V12.6144ZM6.12925 7.11148C5.32315 7.25053 5.35837 8.56721 6.19414 8.6562C7.44333 8.78969 7.39068 6.8942 6.12925 7.11148Z" fill="currentColor"/>
          <path d="M12.9251 10.0255L13.9815 11.0782L14 11.1713L9.59165 15.5711L6.80737 12.8128L7.89565 11.6904L9.59165 13.3515L12.9251 10.0255Z" fill="currentColor"/>
        </svg>`
      )
    },
    {
      name: 'Wallet',
      route: '/dashboard/wallet',
      icon: (
        `<svg width="17" height="15" viewBox="0 0 17 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M0.25 12.6483V2.15165C0.403723 1.15136 1.1595 0.372102 2.17576 0.25H12.7607C13.7748 0.380868 14.5844 1.18736 14.6699 2.2149C15.5534 2.50763 16.1883 3.24932 16.25 4.19638L16.2481 12.5697C16.1482 13.6245 15.3242 14.4589 14.2657 14.5553C10.1496 14.5184 6.01852 14.6232 1.91121 14.5024C1.0637 14.3148 0.342985 13.5159 0.250313 12.6486L0.25 12.6483ZM13.6239 2.15165C13.5469 1.62192 13.0428 1.26188 12.5159 1.24435L2.35954 1.24622C1.78284 1.28786 1.3007 1.74559 1.25374 2.32761C1.24998 2.37331 1.21961 2.48571 1.29569 2.46348C1.37647 2.43969 1.50577 2.34545 1.60846 2.30725C1.74684 2.25591 2.06837 2.15165 2.203 2.15165H13.6239ZM15.2485 10.7116C14.0497 10.6894 12.8424 10.7589 11.648 10.6718C9.94486 10.37 9.13837 8.44521 10.1606 7.01505C10.4351 6.63059 11.189 6.08833 11.6709 6.08833H15.2018L15.2488 6.04137V4.22957C15.2488 3.7875 14.7867 3.26497 14.3502 3.19108C10.2911 3.12596 6.20762 3.12596 2.14852 3.19108C1.60721 3.33291 1.25875 3.79314 1.24873 4.35324L1.25061 12.4454C1.3151 13.0735 1.7603 13.5062 2.38959 13.5563L14.1392 13.5547C14.6348 13.5622 15.2491 13.0037 15.2491 12.5087V10.7122L15.2485 10.7116ZM15.2485 7.08769H11.8268C11.2532 7.08769 10.7332 7.80809 10.716 8.3516C10.6988 8.8951 11.2197 9.68062 11.7955 9.68062H15.2481V7.08769H15.2485Z" fill="currentColor" stroke="currentColor" stroke-width="0.5"/>
          <path d="M12.1158 7.90731C12.7423 7.80587 12.9689 8.66778 12.4267 8.90541C11.7088 9.22005 11.3547 8.03066 12.1158 7.90731Z" fill="currentColor" stroke="currentColor" stroke-width="0.5"/>
        </svg>
        `
      )
    },
    {
      name: 'Deposits',
      route: '/dashboard/deposits',
      icon: (
        `<svg width="17" height="15" viewBox="0 0 17 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M0.25 1.69557C0.395318 0.928896 0.982227 0.348564 1.76644 0.258367C6.16669 0.287806 10.5801 0.196356 14.9725 0.304405C15.6612 0.458492 16.1564 1.0548 16.25 1.746L16.2249 8.05668C16.0768 8.36297 15.6355 8.30942 15.5967 7.96115L15.5936 1.87096C15.5171 1.29313 15.1294 0.952698 14.5516 0.91261L1.8914 0.91449C1.452 0.91261 0.906436 1.39116 0.906436 1.83588V3.55464L0.953414 3.60162H5.51715C6.18298 3.60162 6.85914 4.45317 6.90925 5.08486C6.95905 5.71562 6.95404 6.76573 6.90925 7.39993C6.86447 8.03413 6.20271 8.91418 5.51683 8.91418H0.953414L0.906436 8.96115V10.6799C0.906436 11.0993 1.41724 11.5816 1.83722 11.5932L9.32861 11.6038C9.67092 11.7065 9.67092 12.1556 9.32329 12.2512L1.73857 12.2546C1.02357 12.1829 0.336126 11.5399 0.25 10.8208L0.25 1.69557ZM0.937754 8.25774H5.39187C5.72573 8.25774 6.12222 7.85686 6.21148 7.54587C6.31201 7.1951 6.28288 5.6724 6.25313 5.24083C6.22839 4.88411 6.07117 4.57218 5.75204 4.39805C5.67311 4.35514 5.47142 4.25805 5.39187 4.25805H0.937754V8.25774Z" fill="currentColor" stroke="currentColor" stroke-width="0.5"/>
          <path d="M11.4401 14.2574C11.2322 14.1594 11.0521 14.0711 10.9641 13.8425C10.9541 13.8161 10.9087 13.6596 10.9087 13.648V10.2574H9.17393C9.16484 10.2574 9.03331 10.1801 9.01671 10.1647C8.91117 10.0651 8.8739 9.86062 8.97067 9.74161L12.3766 6.33447C12.5908 6.18351 12.7189 6.26713 12.8943 6.41308C14.0136 7.34386 15.0176 8.67897 16.1279 9.6489C16.3515 9.79861 16.2322 10.2574 15.9879 10.2574H14.2532V13.7103C14.2532 13.7209 14.1858 13.8835 14.172 13.9104C14.0699 14.1065 13.9137 14.1738 13.7217 14.2571H11.4398L11.4401 14.2574ZM15.0972 9.6013L12.5811 7.07076L10.0649 9.6013H11.3622C11.4364 9.6013 11.5967 9.8293 11.5967 9.8982V13.6013H13.5504L13.5974 13.5543V9.80456C13.5974 9.76447 13.7605 9.6013 13.8006 9.6013H15.0978H15.0972Z" fill="currentColor" stroke="currentColor" stroke-width="0.5"/>
          <path d="M3.49456 4.92297C5.08084 4.81273 5.46888 7.14815 3.92676 7.54307C2.03575 8.02757 1.59854 5.05451 3.49456 4.92297ZM3.43005 5.60916C2.65554 5.74226 2.78144 7.06735 3.72757 6.90668C4.5193 6.77201 4.38495 5.44505 3.43005 5.60916Z" fill="currentColor" stroke="currentColor" stroke-width="0.5"/>
        </svg>
        `
      )
    }
  ];

  sanitizeIcon(icon: string): SafeHtml {
    return this.sanitizer.bypassSecurityTrustHtml(icon);
  }

  isRouteActive(route: string): boolean {
    return this.router.isActive(route, { paths: 'exact', queryParams: 'ignored', fragment: 'ignored', matrixParams: 'ignored' });
  }
}
